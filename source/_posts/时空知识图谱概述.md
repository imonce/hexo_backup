---
title: 时空知识图谱概述
date: 2024-07-09 19:59:16
tags: [knowledge graph, spatio-temporal knowledge graph]
mathjax: true
comments: true
---


# 什么是时空知识图谱

时空知识图谱，顾名思义，是具有地理时空分布或位置隐喻的知识构成的有向图，即以时空分布特征为核心的知识图谱（Spatial-temporal Knowledge Graph，或Geo-related Knowledge Graph，以下简称STKG）。STKG旨在通过计算机规范化表达与存储与地理时空分布相关的知识集合，进而支持地理时空分布或位置相关知识检索与知识推理。其中的图（谱）指地理时空分布或位置要素（概念、人类群体/个体、地理实体、事件、现象等）之间的语义联系形成的网状拓扑结构。

其中，时空知识可以更广泛地定义为一切具有时空位置和动态变化特征的相关知识。时空知识是人类对地理空间上人、物、事件、现象分布、演变过程和相互作用规律的认知结果。除了传统的地理/地学应用外，时空知识也是消费领域基于位置的服务（Location-based Services，LBS）、新型基础设施建设和智慧城市管理的核心支撑。时空知识也可以参考地理知识或地学知识分类方法，分为：

1. 事实型知识
2. 规则及控制型知识
3. 决策型知识

3种类型，或者分为

1. 数据性知识
2. 概念性知识
3. 规律性知识

3个层次。

# 时空知识图谱研究框架

![](https://raw.githubusercontent.com/imonce/imgs/master/202407091946744.png)

# 时空知识图谱的构建与应用[ref4](#references)

作者提出了一种时空知识图谱本体模型，通过在实体种加入时空属性信息，来实现对特点目标领域的时空数据的管理与查询。作者设计了一个时空知识图谱问答系统，能够较为准确的查询出某时刻和时间段内的实体关系情况，并且可以在一定程度上计算空间距离。

## 引言
知识图谱是一种通过“节点-边-节点”的知识管理架构，实现对目标领域的实体关系数据的有效管理。但在一些特定领域，实体和关系会在时空上动态变化，因此如何设计领域时空知识图谱模型来解决这种变化的存储和管理是极其重要的。

针对以上问题，作者对实体和关系种类和数量在时空上动态变换的特征，通过在实体关系中加入坐标和时间属性信息构建了本体模型，并且利用NER和基于规则的时间信息提取技术、问句图结构生产以及模式库匹配技术来实现算法辅助查询。

## 时空知识图谱本体模型
作者将领域内的实体进行归纳为4类：单位（机关、组织）、人物、装备和地点。这里由于单位之间的隶属关系、所在地、人物任职关系、装备的配备关系是动态变化的，所以作者在实体和关系中加入了时间空间信息=>使得KG能够完整记录实体和关系的变化历程，并且能够在任意时刻和范围内查询到实体关系情况。

![](https://pic4.zhimg.com/80/v2-a187aa7646ce3ea7f865a27baf6325ef_1440w.webp)

这里圆形代表四类实体，矩形代表实体属性信息，圆角矩形代表关系的属性信息。

### 本体模型的实体设置
地点类实体设置：对于地点类实体，文章在实体属性中增加了该实体的经纬度来记录实体的地理位置
单位类设置：由于其自身存在更改名称、改编单位、撤编重建等情况，因此作者用不同的实体表示不同阶段的同一单位，但在实体的属性中加入了起始时间和结束时间以记录时间信息
人物类实体设置：属性加入出身地、出身日期、毕业院校等信息
装备类：装备的具体特征

### 本体模型的关系设置
同一单位的不同阶段实体的关系设置：采用change的关系（包括改名、改变、整合等等）
不同实体：如隶属于、位于、任职于、装备于等关系。也加上时间段属性表示在xx期间有yy关系。

### 时空知识图谱构建
这篇文章将时空知识图谱定义为能够存储时空动态数据、查询任何时刻和时间段的实体关系的知识图谱。作者利用OrientDB图数据库工具，构建目标领域时空知识图谱。

![](https://pic4.zhimg.com/80/v2-5675c300769a8eebeb062537faf3f9b7_1440w.webp)

## 基于时空知识图谱本体模型应用
作者设定了一种目标领域时空知识图谱设计的查询系统：

![](https://pic2.zhimg.com/80/v2-b442f6a0ff3e95aefeaa08ab790319a1_1440w.webp)

剩下的就是一些成果展示。

# 基于时空知识图谱的空间分析方法研究[ref5](#references)

随着大数据时代的到来，地理信息正由单一静态向多源动态、精确结构化向模糊异构化转变。知识图谱本质上是一种以图Graph作为数据结构的语义网络，用边连接由节点代表实体或概念，用有向图的方式来表达语义关系。

使用方式是：提取不同类型的地理实体，以RDF三元组（实体-关系-实体）格式存储通用的地理知识图谱。

![](https://pic4.zhimg.com/80/v2-a3869ccf4119e8bf500ff332a93fedf3_1440w.webp)

本位借助地理网格，将地理实体在知识图谱的框架中进行表达以提高空间分析的效率，同时将地理空间数据的时间属性也作为知识图谱中的实体以便进行时间维度的空间分析。

## 时空知识图谱构建

![](https://pic1.zhimg.com/80/v2-c5bf57e86b6268b2ac0feae6d67da480_1440w.webp)

作者基于Jena构建地理信息空间分析的知识图谱图数据库，并且在节点上引入了时间属性，如上图所示。（相当于把某一年作为一个节点，嵌入知识图谱中）

# Question Answering Over Spatio-Temporal Knowledge Graph [ref2](#references)

时空知识图谱（STKGs）通过整合时间和地点信息扩展了知识图谱（KGs）的概念。尽管研究社区专注于知识图谱问答（KGQA），但基于STKGs结合时空信息回答问题的领域在很大程度上还未被探索。此外，缺乏综合的数据集也阻碍了这一领域的进展。为了解决这个问题，我们提出了STQAD，一个包含10,000个自然语言问题的数据集，用于时空知识图谱问答（STKGQA）。不幸的是，各种最先进的KGQA方法在我们的数据集上的表现远远达不到令人满意的水平。作为回应，我们提出了STCQA，这是一种新的时空KGQA方法，它采用了一种名为STComplEx的新颖STKG嵌入方法。通过从问题中提取时间和空间信息，我们的问答模型能更好地理解问题，并从STKG中检索准确的答案。通过广泛的实验，我们展示了我们数据集的质量以及我们STKGQA方法的有效性。

## Motivation

![](https://raw.githubusercontent.com/imonce/imgs/master/202407092139976.png)

如图1所示，问答系统需要从问题中提取潜在的时间和地理信息，并搜索正确的答案。从时空知识图谱（STKG）中，我们可以获得与"慕尼黑"相关的地理信息和与"第一次世界大战"相关的时间信息。然后，我们需要考虑时空约束，搜索与中心实体"阿尔伯特·爱因斯坦"相关的所有答案。不幸的是，如表1所示，目前还没有对这个具体问题进行进一步的讨论。此外，目前缺乏用于评估STKG上问答任务的大规模数据集。

## 问题生成

要使用时空知识图谱（STKG）回答自然语言问题，我们必须从问题中心实体开始，并利用时空约束在知识图谱（KG）上定位答案。因此，问题生成可以被视为问题回答的反向过程，其中答案被用来推导出问题的所有约束和线索。此外，问题中实体和时空约束之间应该有更强的相关性，这将使问题更贴近现实世界的场景。

![](https://raw.githubusercontent.com/imonce/imgs/master/202407092143828.png)

生成问题约束的过程如图2所示。我们使用事实（Albert_Einstein, worksAt, Humboldt_University_of_Berlin, occursSince, 1914, occursUntil, 1917, occursIn, 52.52, 13.39）作为一个答案事实，其中Albert_Einstein是中心实体，Humboldt_University_of_Berlin是答案。

为了便于生成时空约束，我们搜索与Albert_Einstein相关的同时包含时间和地点信息的事实。这类事实的示例包括（Albert_Einstein, wasBornIn, Ulm, occursSince, 1879, occursIn, 48.43, 10.01）和（Albert_Einstein, graduatedFrom, University_of_Zurich, occursSince, 1905, occursIn, 47.38, 8.55）。我们把这些事实视为与中心实体高度相关的候选事实。一些知识图谱关系，如"influence"（影响）和"linksTo"（链接到），含义模糊且转换为约束具有挑战性，因此我们将其过滤掉。结果，我们获得了一组与中心实体相关的高质量候选事实。

然而，这种严格的方法可能导致候选事实的数量不足。为了解决这个问题，我们进行了涉及与中心实体"Albert_Einstein"相关的实体、时间和地点的知识图谱搜索，从而获得额外的事实来补充我们的事实集。

我们的事实集被分为两个子集：候选时间线索集和候选地点线索集。我们从这两个线索集中随机选择一个线索来生成问题的约束。通过将时空线索与答案事实进行比较，我们推导出如图2所示的约束，如时间约束“在结束之前”和地点约束“东北方向”。

## STKGQA框架

![](https://raw.githubusercontent.com/imonce/imgs/master/202407092144612.png)

我们的框架包含三个模块：约束片段生成、实体类型注释和问题嵌入生成。

1. 约束片段生成：在问题中识别时空约束并编码相关线索。
2. 实体类型注释：识别从问题中的时空约束推断出的实体类型。
3. 问题嵌入生成模块：将实体表示和STKG中的时空嵌入整合到问题向量q中。


# 总结


时空知识图谱相比传统知识图谱的升级体现在以下方面：

## 数据结构方面

在schema层设计时需要将时间地点作为entity进行设计并与其他实体进行关联。

## 数据操作方面

与时空知识库类似，简单的增删改查应升级成时空相关的“记忆”、“遗忘”、“学习”、“分析”等。

同时，应支持时空关联分析、溯源等深度分析操作。

## 数据维护方面

与时空知识库相同，应在动态性方面大幅强化，包括时空关系的自动挖掘，知识更新、失效的自动化判断，insight（如风险预警）的自动生成等。

同时所有这些操作都应增加时间和空间的约束，以及时间和空间维度的线索。

# References

1. https://www.dqxxkx.cn/CN/10.12082/dqxxkx.2023.230154
2. https://arxiv.org/pdf/2402.11542
3. https://content.iospress.com/articles/semantic-web/sw222918
4. https://www.nstl.gov.cn/paper_detail.html?id=68b554aa38cb12b64607e671b1bdc0b9
5. https://www.nstl.gov.cn/paper_detail.html?id=97fa94ab37db2cb98ae242f513c390fb
6. https://zhuanlan.zhihu.com/p/594405152